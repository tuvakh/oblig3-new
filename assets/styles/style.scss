// Imports all css assets
@use "reset.css";

// Heading font
@font-face {
    font-family: "bebasneue";
    src: url(../fonts/bebasneue/bebasneue-regular.ttf);
}
// Main font
@font-face {
    font-family: "open-sans";
    src: url(../fonts/open_sans/OpenSans-VariableFont_wdth\,wght.ttf);
}
// Variables
:root {
    // Colors
    --primary-color: black;
    --text-color: white;
    --link-color: rgb(72, 178, 239);

    // Line height
    --line-height-heading: 1.1;
    --line-height-base: 1.6;

    // Font weight 
    --font-weight-normal: 400;
    --font-weight-medium: 600;
    --font-weight-semibold: 700;
    --font-weight-bold: 900;

    // Space
    --mini-space: 0.5rem;
    --small-space: 1rem;
    --normal-space: 1.5rem;
    --medium-space: 3rem;
    --big-space: 5rem;
    --mega-space: 10rem;
    --giga-space: 15rem;

    // Font Sizes - Clamp
    /* @link https://utopia.fyi/type/calculator?c=390,18,1.333,1920,25,1.25,4,0,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
    --step--2: clamp(0.9rem, 0.6rem + 0.4075vw, 1rem);
    --step--1: clamp(1rem, 0.8rem + 0.4275vw, 1.2rem);
    --step-0: clamp(1.25rem, 1.0135rem + 0.4575vw, 1.5rem);
    --step-1: clamp(1.4rem, 1.384rem + 0.4742vw, 1.7rem);
    --step-2: clamp(2.6647rem, 2.566rem + 0.4048vw, 3.0518rem);
    --step-3: clamp(3.552rem, 4rem + 0.35vw, 5rem);
}
//Globals
body {
    font-family: "open-sans", sans-serif;
    font-weight: var(--font-weight-normal);
    background-color: var(--primary-color);
    color: var(--text-color);
}
h1,
h2 {
    font-family: "bebasneue";
}
h1 {
    font-size: var(--step-3);
}
h2 {
    font-size: var(--step-2);
    margin-block-end: var(--small-space);
}
p {
    font-size: var(--step-0);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-base);
}
img {
    max-width: 100%;
}
a {
    font-weight: var(--font-weight-medium);
    color: var(--link-color);
}
.line-break {
    display: block;
}
.splash {
    animation: splash-effect 5s forwards;
}
@keyframes splash-effect {
    0% {
        transform: translateY(0) scale(1);
    }
    100% {
        transform: translateY(150vh) scale(2);
        opacity: 0;
    }
}
@keyframes arrow-up {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-30px); // you can adjust this height
    }
  }

// Horizontal-Scroll
.horizontal {
    position: relative;
    height: 100vh;
    width: 100%;
    overflow: hidden;
  
    &__background {
      position: absolute;
      height: 60%;
      width: 150vw;
      bottom: 0;
      background-size: cover;
      background-repeat: no-repeat;

      &--1 {
        background-image: url('../elements/village1.svg');
        background-position: bottom right 15%;
      }
      &--2 {
        background-image: url('../elements/village.svg');
        background-position: bottom left 15%;
      }
    }
    &__character {
      position: absolute;
      bottom: 5%;
      left: 5%;
      height: 40vh;
      z-index: 2;
    }
}
  
// History about Maya
.history { 
    overflow: hidden;

    &__heading {
        font-size: var(--step-2);
        line-height: var(--line-height-heading);
        max-width: 40ch;
        margin-block-start: var(--mini-space);
    }
    &__drop {
        transition: transform 5s ease-in-out;
        width: 8vh;
        margin-block-start: var(--normal-space);
    }
    // Makes each part of the story fill the whole viewport
    &__part {
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        position: relative;
        padding-inline: var(--small-space);
        background-repeat: no-repeat;
        background-size: 100%;
        background-position: bottom;
        &--crowd {
            background: 
                linear-gradient(
                rgba(99, 12, 12, 1) 0%,
                rgba(153, 79, 79, 1) 100%
            );
        }
        &--news {
            background: 
                linear-gradient(
                rgba(71, 67, 61, 1) 0%,
                rgba(104, 69, 46, 1) 70%,
                rgba(25, 25, 25, 1) 100%
            );
        }
        &--earth {
            background: 
                linear-gradient(
                rgba(25, 25, 25, 1) 0%,
                rgba(0, 0, 0, 1) 100%
            );
        }
        &--fourPeople, &--countries, &--ending {
            background: 
                linear-gradient(
                rgb(53, 9, 3, 1) 5%,
                rgb(154, 54, 8, 1) 80%,
                rgba(0, 0, 0, 1) 100%
            );
        }
        &--river {
            background-color: #47433d;
        }
        &--progress {
            background: 
                linear-gradient(
                    rgba(71, 67, 61, 1) 0%,
                rgb(14, 74, 119, 1) 5%,
                rgb(40, 105, 165, 1) 30%,
                rgba(124, 77, 41, 1) 60%
            );
        }
        &--no-justify { // makes it possible to place text further up on the page, instead of centered
            justify-content: unset;
        }
    }

    &__landscape {
        position: absolute;
        width: 225%;
        bottom: 0;
        left: 0;
        &--news {
            width: 190%;
        }
        &--statistic {
            width: 200%;
        }
        &--countries {
            width: 150%;
        }
        &--progress {
            width: 250%;
        }
    }
    &__importantText { 
        font-family: 'open-sans';
        font-weight: var(--font-weight-bold);
        text-transform: uppercase;
        transition: all 3s;
    }
    &__river {
        fill: none; 
        stroke: #1a3047; 
        stroke-miterlimit: 10; 
        stroke-width: 40px;
        position: absolute;
        height: 100vh;
      
right: -70%;

        & path {
            stroke-dasharray: 4000;
            stroke-dashoffset: 4000;
            transition: stroke-dashoffset 5s ease-out;
        }
        &.animate path {
            stroke-dashoffset: 0;
          }
    }

    // Gradients
    &__sunrise {
        background: linear-gradient(
            180deg,
            rgba(102, 36, 86, 1) 0%,
            rgba(160, 115, 16, 1) 100%
        );
    }
    
    &__bluegradient {
        position: absolute;
        width: 100%;
        height: 400vh;
        z-index: -1;
        background: linear-gradient(
            180deg,
            rgb(0, 0, 0) 0%,
            rgb(9, 23, 41, 1) 20%,
            rgb(9, 23, 41, 1) 40%,
            rgb(9, 23, 41, 1) 60%,
            rgba(60, 60, 124, 1) 75%,
            rgba(102, 36, 86, 1) 100%
        );
    }
    &__text {
        width: 58ch;
        max-width: 100%;

        &--growing {
            transition: all 3s;
            max-width: 100%;
        }
        &--short {
            width: 48ch;
        }
        &--shorter {
            width: 35ch;
        }
        &--written-firstline, &--written-secondline {
            white-space: wrap;
            display: block;
            overflow-wrap: break-word;
            visibility: hidden;
        }
        &.visible {
            visibility: visible; /* show when ready */
        }
        &--top {
            margin-block-start: var(--giga-space);
        }
    }
    // Cuts the earth image in half
    &__earth-container {
        width: 100%;
        height: 100vh;
        max-height: 170px;
        overflow: hidden;
        position: absolute;
        bottom: 0;
    }
    &__character-img {
        width: 35%;
        padding-block-start: var(--small-space);
    }
    &__earth-img {
        width: 90%;
        transition: all 6s;
    }
    &__plant-img {
        position: absolute;
        bottom: 5%;
        transition: all 3s;
        z-index: 4;
    }
}
.message {
    &__text {
        max-width: 75ch;
    }
    &__slogan {
        font-size: var(--step-0);
        margin-block: var(--medium-space);
        color: var(--link-color);
        text-transform: uppercase;
        font-weight: var(--font-weight-medium);
    }
    &__buttons {
        display: flex;
        justify-content: center;
        width: 50%;
        gap: var(--small-space);
        flex-wrap: wrap;
        margin-block-start: var(--normal-space);
    }
    &__btn {
        width: 60%;
        background-color: var(--text-color);
        padding: var(--small-space);
        border-radius: var(--small-space);
        text-decoration: none;
        color: var(--primary-color);
        text-transform: uppercase;
        font-size: var(--step--1);
    }
    &__btn-top {
        position: absolute;
        background-color: transparent;
        color: var(--text-color);
        border: none;
        font-size: var(--step-3);
        align-self: flex-end;
        bottom: 20%;
        right: 10%;
        animation: arrow-up 1s ease-in-out infinite;
    }
}

.footer {
    padding: var(--medium-space);
    text-align: center;
    color: #8ba7b5;
    background-color: #09557e;
    &__text {
        font-size: var(--step--2);
    }
}

@media only screen and (min-width: 900px) {
    .horizontal {
        &__background {
            width: 150vw;
            background-position: bottom left;
        } 
    }
    
    .history {
        &__drop {
            width: 10vh;
        }
        &__landscape {
            width: 100%;
            left: 0;
        }
        &__river {
            stroke-width: 165px;
            right: 0;
        }
        &__text {
            &--top {
                margin-block-start: var(--mega-space);
            }
            &--written-firstline, &--written-secondline {
                white-space: normal;
            }
        }
        &__character-img {
            width: 10%;
        }
        &__earth-container {
            width: 100%;
            height: 70vh;
            max-height: 400px;
        }
        &__earth-img {
            width: 70%;
        }
        &__plant-img {
            position: absolute;
            bottom: 10%;
            transition: all 3s;
            z-index: 4;
        }
    }
    .message {
        &__btn {
            width: 20%;
        }
    }
}

@media (prefers-reduced-motion: reduce) {
    * {
      animation: none !important;
      transition: none !important;
    }
  }